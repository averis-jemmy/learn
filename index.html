<!doctype html>
<head>
   <meta http-equiv="Content-type" content="text/html; charset=utf-8">
   <title>Bootstrap Test</title>
</head>
   <script src="js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
   <script src="js/bootstrap.min.js" type="text/javascript" charset="utf-8"></script>
   <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css" media="screen" title="no title" charset="utf-8">
   <link rel="stylesheet" href="css/bootstrap-theme.min.css" type="text/css" media="screen" title="no title" charset="utf-8">
   <link rel="stylesheet" href="css/extra.css" type="text/css" media="screen" title="no title" charset="utf-8">

</style>

<script type="text/javascript" charset="utf-8">
	
	var text = '{ "weekData": [' +
		'{ "weekDate" : "4 July 2016", "weekEvent": [{ "bookedTime" : "7.00AM", "name" : "Devin", "status" : "RESERVED" }, { "bookedTime" : "7.30AM", "name" : "", "status" : "" }, { "bookedTime" : "8.00AM", "name" : "", "status" : "" }, { "bookedTime" : "8.30AM", "name" : "James", "status" : "PROCESS" }, { "bookedTime" : "9.00AM", "name" : "", "status" : "" }, { "bookedTime" : "9.30AM", "name" : "", "status" : "" }] },' +
		'{ "weekDate" : "5 July 2016", "weekEvent": [{ "bookedTime" : "7.00AM", "name" : "Devin", "status" : "PROCESS" }, { "bookedTime" : "7.30AM", "name" : "", "status" : "" }, { "bookedTime" : "8.00AM", "name" : "", "status" : "" }, { "bookedTime" : "8.30AM", "name" : "", "status" : "" }, { "bookedTime" : "9.00AM", "name" : "", "status" : "" }, { "bookedTime" : "9.30AM", "name" : "", "status" : "" }] },' +
		'{ "weekDate" : "6 July 2016", "weekEvent": [{ "bookedTime" : "7.00AM", "name" : "Devin", "status" : "RESERVED" }, { "bookedTime" : "7.30AM", "name" : "", "status" : "" }, { "bookedTime" : "8.00AM", "name" : "", "status" : "" }, { "bookedTime" : "8.30AM", "name" : "", "status" : "" }, { "bookedTime" : "9.00AM", "name" : "", "status" : "" }, { "bookedTime" : "9.30AM", "name" : "", "status" : "" }] },' +
		'{ "weekDate" : "7 July 2016", "weekEvent": [{ "bookedTime" : "7.00AM", "name" : "", "status" : "" }, { "bookedTime" : "7.30AM", "name" : "", "status" : "" }, { "bookedTime" : "8.00AM", "name" : "", "status" : "" }, { "bookedTime" : "8.30AM", "name" : "", "status" : "" }, { "bookedTime" : "9.00AM", "name" : "", "status" : "" }, { "bookedTime" : "9.30AM", "name" : "", "status" : "" }] },' +
		'{ "weekDate" : "8 July 2016", "weekEvent": [{ "bookedTime" : "7.00AM", "name" : "", "status" : "" }, { "bookedTime" : "7.30AM", "name" : "", "status" : "" }, { "bookedTime" : "8.00AM", "name" : "", "status" : "" }, { "bookedTime" : "8.30AM", "name" : "", "status" : "" }, { "bookedTime" : "9.00AM", "name" : "", "status" : "" }, { "bookedTime" : "9.30AM", "name" : "", "status" : "" }] },' +
		'{ "weekDate" : "9 July 2016", "weekEvent": [{ "bookedTime" : "7.00AM", "name" : "", "status" : "" }, { "bookedTime" : "7.30AM", "name" : "", "status" : "" }, { "bookedTime" : "8.00AM", "name" : "", "status" : "" }, { "bookedTime" : "8.30AM", "name" : "", "status" : "" }, { "bookedTime" : "9.00AM", "name" : "", "status" : "" }, { "bookedTime" : "9.30AM", "name" : "", "status" : "" }] },' +
		'{ "weekDate" : "10 July 2016", "weekEvent": [{ "bookedTime" : "7.00AM", "name" : "Devin", "status" : "RESERVED" }, { "bookedTime" : "7.30AM", "name" : "James", "status" : "RESERVED" }, { "bookedTime" : "8.00AM", "name" : "James", "status" : "RESERVED" }, { "bookedTime" : "8.30AM", "name" : "James", "status" : "RESERVED" }, { "bookedTime" : "9.00AM", "name" : "James", "status" : "RESERVED" }, { "bookedTime" : "9.30AM", "name" : "James", "status" : "RESERVED" }] }] }';
	
	var newData = '{"club":{"id":1,"name":"Kelab Darul Ehsan"},"flights":[{"minPax":2,"maxPax":4,"minCart":0,"maxCart":2,"minCaddy":0,"maxCaddy":2,"tee_time":"07:00","booked":null,"matrix_id":1,"reserve_status":null,"prices":{"flight":"90.0","cart":"100.0","caddy":"90.0","insurance":"90.0","note":"","insurance_mode":1}},{"minPax":2,"maxPax":4,"minCart":0,"maxCart":2,"minCaddy":0,"maxCaddy":2,"tee_time":"07:15","booked":null,"matrix_id":2,"reserve_status":null,"prices":{"flight":"90.0","cart":"100.0","caddy":"90.0","insurance":"90.0","note":"","insurance_mode":1}},{"minPax":2,"maxPax":4,"minCart":0,"maxCart":2,"minCaddy":0,"maxCaddy":2,"tee_time":"07:30","booked":null,"matrix_id":3,"reserve_status":null,"prices":{"flight":"90.0","cart":"100.0","caddy":"90.0","insurance":"90.0","note":"","insurance_mode":1}},{"minPax":2,"maxPax":4,"minCart":0,"maxCart":2,"minCaddy":0,"maxCaddy":2,"tee_time":"07:45","booked":null,"matrix_id":4,"reserve_status":null,"prices":{"flight":"90.0","cart":"100.0","caddy":"90.0","insurance":"90.0","note":"","insurance_mode":1}},{"minPax":2,"maxPax":4,"minCart":0,"maxCart":2,"minCaddy":0,"maxCaddy":2,"tee_time":"08:00","booked":null,"matrix_id":5,"reserve_status":null,"prices":{"flight":"90.0","cart":"100.0","caddy":"90.0","insurance":"90.0","note":"","insurance_mode":1}},{"minPax":2,"maxPax":4,"minCart":0,"maxCart":2,"minCaddy":0,"maxCaddy":2,"tee_time":"08:30","booked":null,"matrix_id":6,"reserve_status":null,"prices":{"flight":"90.0","cart":"100.0","caddy":"90.0","insurance":"90.0","note":"","insurance_mode":1}},{"minPax":2,"maxPax":4,"minCart":0,"maxCart":2,"minCaddy":0,"maxCaddy":2,"tee_time":"09:00","booked":null,"matrix_id":7,"reserve_status":null,"prices":{"flight":"90.0","cart":"100.0","caddy":"90.0","insurance":"90.0","note":"","insurance_mode":1}},{"minPax":3,"maxPax":4,"minCart":1,"maxCart":2,"minCaddy":1,"maxCaddy":2,"tee_time":"16:00","booked":null,"matrix_id":14,"reserve_status":null,"prices":{"flight":"180.0","cart":"100.0","caddy":"200.0","insurance":"50.0","note":"Free:-\r\n* drinks","insurance_mode":1}},{"minPax":3,"maxPax":4,"minCart":1,"maxCart":2,"minCaddy":1,"maxCaddy":2,"tee_time":"16:30","booked":null,"matrix_id":15,"reserve_status":null,"prices":{"flight":"180.0","cart":"100.0","caddy":"200.0","insurance":"50.0","note":"Free:-\r\n* drinks","insurance_mode":1}},{"minPax":3,"maxPax":4,"minCart":1,"maxCart":2,"minCaddy":1,"maxCaddy":2,"tee_time":"17:00","booked":null,"matrix_id":16,"reserve_status":null,"prices":{"flight":"180.0","cart":"100.0","caddy":"200.0","insurance":"50.0","note":"Free:-\r\n* drinks","insurance_mode":1}},{"minPax":3,"maxPax":4,"minCart":1,"maxCart":2,"minCaddy":1,"maxCaddy":2,"tee_time":"17:30","booked":null,"matrix_id":17,"reserve_status":null,"prices":{"flight":"180.0","cart":"100.0","caddy":"200.0","insurance":"50.0","note":"Free:-\r\n* drinks","insurance_mode":1}},{"minPax":3,"maxPax":4,"minCart":1,"maxCart":2,"minCaddy":1,"maxCaddy":2,"tee_time":"18:00","booked":null,"matrix_id":18,"reserve_status":null,"prices":{"flight":"180.0","cart":"100.0","caddy":"200.0","insurance":"50.0","note":"Free:-\r\n* drinks","insurance_mode":1}},{"minPax":3,"maxPax":4,"minCart":1,"maxCart":2,"minCaddy":1,"maxCaddy":2,"tee_time":"18:30","booked":null,"matrix_id":19,"reserve_status":null,"prices":{"flight":"180.0","cart":"100.0","caddy":"200.0","insurance":"50.0","note":"Free:-\r\n* drinks","insurance_mode":1}},{"minPax":3,"maxPax":4,"minCart":1,"maxCart":2,"minCaddy":1,"maxCaddy":2,"tee_time":"19:00","booked":null,"matrix_id":20,"reserve_status":null,"prices":{"flight":"180.0","cart":"100.0","caddy":"200.0","insurance":"50.0","note":"Free:-\r\n* drinks","insurance_mode":1}}],"queryData":{"date":"14/07/2016","query":""}}';
	
	$(document).ready(function() {
		var content = "<table class='table table-bordered table-striped' style='height:100%;'>";
		
		var obj = JSON.parse(text);
		//var newObj = JSON.parse(newData);
		var process = 0;
		var reserved = 0;
		var free = 0;
		
		//alert(obj.weekData[0].weekEvent.length);
		
		content += "<thead><tr><th style='text-align:center'></th><th style='text-align:center'>07.00AM</th><th style='text-align:center'>07.30AM</th>";
		content += "<th style='text-align:center'>08.00AM</th><th style='text-align:center'>08.30AM</th><th style='text-align:center'>09.00AM</th>";
		content += "<th style='text-align:center'>09.30AM</th></tr></thead><tbody>";
		
		for(i = 0; i < obj.weekData.length; i++) {
			content += "<tr><th scope='row'>(" + obj.weekData[i].weekDate + ")</th>";
			for(j = 0; j < obj.weekData[i].weekEvent.length; j++) {
				if(obj.weekData[i].weekEvent[j].name != "") {
					if(obj.weekData[i].weekEvent[j].status == "RESERVED") {
						content += "<td style='background-color:#f00; padding:0px;' >";
						content += "<a data-trigger='focus' tabindex='0' role='button' id='reserved" + reserved + "'><div style='padding:5px;'>Content</div></a>";
						content += "</td>";
						reserved++;
					}
					if(obj.weekData[i].weekEvent[j].status == "PROCESS") {
						content += "<td style='background-color:#ff0; padding:0px;' >";
						content += "<a data-trigger='focus' tabindex='0' role='button' id='process" + process + "'><div style='padding:5px;'>Content</div></a>";
						content += "</td>";
						process++;
					}
				}
				else {
					content += "<td style='padding:0px;'>";
					content += "<a data-trigger='focus' tabindex='0' role='button' id='free" + free + "'><div style='padding:5px;'>Content<br></div></a>";
					content += "</td>";
					free++;
				}
			}
			content += "</tr>";
		}
		
		content += "</tbody></table>"
		$("#test").append(content);
		
		for(c = 0; c < reserved; c++) {
			$("#reserved" + c).popover({
				placement: 'bottom',
				html: 'true',
				title : '<span class="text-info"><strong>title</strong></span>',
				content : '<button type="button" id="close" class="close" onclick="$(&quot;#example&quot;).click();">Close Me</button>'
			});
		}
		
		for(c = 0; c < process; c++) {
			$("#process" + c).popover({
				placement: 'bottom',
				html: 'true',
				title : '<span class="text-info"><strong>title</strong></span>',
				content : '<button type="button" id="close" class="close" onclick="$(&quot;#example&quot;).click();">Close Me</button>'
			});
		}
		
		for(c = 0; c < free; c++) {
			$("#free" + c).popover({
				placement: 'bottom',
				html: 'true',
				title : '<span class="text-info"><strong>title</strong></span>',
				content : '<button type="button" id="close" class="close" onclick="$(&quot;#example&quot;).click();">Close Me</button>'
			});
		}
	});

</script>
<body style="padding:20px;">
	<div class="container-fluid">
		<div class="table-responsive" id="test">
		</div>
	</div>
</body>